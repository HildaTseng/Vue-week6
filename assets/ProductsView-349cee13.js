import{_ as g,e as m,r as b,o as n,c as o,d as t,F as c,f as k,t as l,n as v,a as y,w as V,b as $}from"./index-7e514c5e.js";const{VITE_URL:h,VITE_PATH:u}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"hilda88",BASE_URL:"/Vue-week6/",MODE:"production",DEV:!1,PROD:!0},f={data(){return{products:[],loadingItem:""}},components:{RouterLink:m},methods:{getProducts(){this.$http.get(`${h}/v2/api/${u}/products/all`).then(s=>{this.products=s.data.products}).catch(s=>{alert(s.response.data.message)})},addToCart(s,i=1){this.loadingItem=s;const d={product_id:s,qty:i};this.$http.post(`${h}/v2/api/${u}/cart`,{data:d}).then(a=>{this.loadingItem="",alert(a.data.message)}).catch(a=>{alert(a.response.data.message)})}},mounted(){this.getProducts()}},I=t("h2",null,"產品列表頁面",-1),T={class:"table align-middle"},x=t("thead",null,[t("tr",null,[t("td",null,"圖片"),t("td",null,"商品"),t("td",null,"價格"),t("td")])],-1),E={style:{width:"200px"}},L={key:0,class:"h5"},R={key:1},C={class:"h6"},P={class:"h5"},w=["disabled","onClick"];function B(s,i,d,a,r,_){const p=b("RouterLink");return n(),o(c,null,[I,t("table",T,[x,t("tbody",null,[(n(!0),o(c,null,k(r.products,e=>(n(),o("tr",{key:e.id},[t("td",null,l(e.title),1),t("td",E,[t("div",{style:v([{backgroundImage:`url(${e.imageUrl})`},{height:"100px","background-size":"cover","background-position":"center"}])},null,4)]),t("td",null,[e.price===e.origin_price?(n(),o("div",L,l(e.price)+" 元 ",1)):(n(),o("div",R,[t("del",C,"原價 "+l(e.origin_price)+" 元",1),t("div",P,"現在只要 "+l(e.price)+" 元",1)]))]),t("td",null,[y(p,{to:`/product/${e.id}`,class:"btn btn-outline-secondary"},{default:V(()=>[$("產品詳情")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-danger",disabled:e.id===r.loadingItem,onClick:D=>_.addToCart(e.id)},"加到購物車",8,w)])]))),128))])])],64)}const A=g(f,[["render",B]]);export{A as default};
